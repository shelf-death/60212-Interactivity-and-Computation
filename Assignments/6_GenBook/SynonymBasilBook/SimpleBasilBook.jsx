#includepath "~/Documents/;%USERPROFILE%Documents";#include "../../../bundle/basil.js";var csvArray = ['rose.csv','hammy.csv','desire.csv','leisure.csv','enigmas.csv','israfil.csv','tooLate.csv','aRitual.csv','folkMeta.csv','sasquach.csv','souvenir.csv','gazzillion.csv','loveCallsUs.csv','spottieOttie.csv' ];var csvData;var genCover = false;var reset = true;//--------------------------------------------------------function setup() {  // Clear the document at the very start.   if (reset == true){    b.clear (b.doc());  }  if (genCover == true){  // Make a title page.   b.fill(0,0,0);  b.textSize(24);  b.textFont("Helvetica","Light");   b.textAlign(Justification.LEFT_ALIGN);   b.text("By Any Other Name", 72,72,360,36);  b.text("Kaleb Crawford, Fall 2016", 72,108,360,36);  } //end Gen Cover  //72 points in an inch  var margin = 72  var titleX = 72;   var titleY = 72;  var titleW = 72;  var titleH = 72;  var passageX = margin + 18;  var passageY = margin * 2;  var passageW = margin * 3;  var passageH = b.height-margin*2;  var innerText;  var mainFrame;  var tempFrame;  //////////////////////CSV Array Loop//////////////////////  for (var texts = 0; texts < csvArray.length; texts++){  var csvString = b.loadString(csvArray[texts]);  csvData = b.CSV.decode( csvString );  b.println("Number of elements in CSV: "+csvData.length);  var totalIterations = parseInt(csvData[csvData.length-1].iteration);  var currentIteration = 0;  ////////////////////// Iterations Loop////////////////////  for (var i = 0; i <= totalIterations; i++) {    b.addPage(); // Create the next page.    //Create the frame    b.fill(0);    b.textSize(8);    b.textFont("Garamond","Regular");     b.textAlign(Justification.LEFT_ALIGN, VerticalJustification.TOP_ALIGN );    mainFrame = b.text("", passageX, passageY, passageW, passageH);    currentIteration = i;    innerText = ''; //initialize inner text    ////////////////////Word Loop///////////////////    for (var l = 0; l < csvData.length ; l ++ ){      if (csvData[l].iteration == currentIteration){        innerText = csvData[l].word+" ";        if (csvData[l].isNew == 1){          b.textFont("Garamond","Italic");        }        else{ b.textFont("Garamond","Regular"); }        if (csvData[l].endLine == 1){          innerText += "\n";        }        tempFrame = b.text(innerText, 0, 0, 100, 100);        // mainFrame.contents += tempFrame.contents;        tempFrame.paragraphs[0].move(LocationOptions.after,mainFrame.insertionPoints[-1]);        tempFrame.remove();      } //end if currentIteration check    } // end line loop    b.println('text '+(texts+1)+" iteration "+currentIteration);  } //end iteration loop}//end csvArray loop} // end setup// This makes it all happen:b.go(); 